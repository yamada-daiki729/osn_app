<%# app/views/shared/_flash_messages.html.erb %>
<% flash.each do |type, message| %>
  <% flash_classes = case type
    when 'notice', 'success'
      'bg-green-100 text-green-700 border border-green-400'
    when 'alert', 'error'
      'bg-red-100 text-red-700 border border-red-400'
    else
      'bg-blue-100 text-blue-700 border border-blue-400'
    end
  %>
  <div x-data="{ show: true }"
       x-show="show"
       x-init="setTimeout(() => show = false, 5000)"
       class="<%= flash_classes %> px-4 py-3 rounded relative mb-4 mx-5"
       role="alert">
    <%= message %>
    <button @click="show = false" class="absolute top-0 bottom-0 right-0 px-4">
      <span class="text-xl">&times;</span>
    </button>
  </div>
<% end %>